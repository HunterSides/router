"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[335],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,h=m["".concat(s,".").concat(d)]||m[d]||c[d]||o;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3273:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={title:"Shared Routes"},i=void 0,l={unversionedId:"features/shared-routes",id:"features/shared-routes",title:"Shared Routes",description:"When a screen can appear simultaneously in multiple places, it's useful to share the same URL definition. For example, a tweet may show on multiple tabs of the twitter app, but it should only have one URL.",source:"@site/docs/features/shared-routes.md",sourceDirName:"features",slug:"/features/shared-routes",permalink:"/router/docs/features/shared-routes",draft:!1,editUrl:"https://github.com/expo/router/tree/main/docs/docs/features/shared-routes.md",tags:[],version:"current",frontMatter:{title:"Shared Routes"},sidebar:"tutorialSidebar",previous:{title:"Unmatched Routes",permalink:"/router/docs/features/unmatched"},next:{title:"Splash Screen",permalink:"/router/docs/features/splash"}},s={},p=[{value:"Cloning",id:"cloning",level:2},{value:"Linking",id:"linking",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"When a screen can appear simultaneously in multiple places, it's useful to share the same URL definition. For example, a tweet may show on multiple tabs of the twitter app, but it should only have one URL."),(0,a.kt)("p",null,"Expo Router supports this by allowing routes to be defined in multiple places. The first match wins."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="File System"',title:'"File','System"':!0},"app/\n  _layout.js # Tab bar\n  (home)\n    index.js # Matches `/`\n  (profile)\n    index.js # Also matches `/`\n")),(0,a.kt)("p",null,"Both tabs will render the URL ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," but deep linking to ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," will go to the ",(0,a.kt)("inlineCode",{parentName:"p"},"app/(home)/index.js")," route."),(0,a.kt)("h2",{id:"cloning"},"Cloning"),(0,a.kt)("p",null,"Most of the time, you'll want all routes to be push-able from all tabs at any time. This can quickly become tedious to maintain. To make this easier, you can use the cloned group syntax to clone routes multiple times:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="File System"',title:'"File','System"':!0},"app/\n  _layout.js # Tab bar\n  (home, profile)\n    index.js # Matches `/`\n")),(0,a.kt)("p",null,"This will duplicate the group multiple times in-memory when accessed. Effectively this is the same as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="File System"',title:'"File','System"':!0},"app/\n  _layout.js # Tab bar\n  (home)\n    index.js # Matches `/`\n  (profile)\n    index.js # Also matches `/`\n")),(0,a.kt)("p",null,"In order to differentiate between the two, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"segment")," prop to determine which segment is currently being rendered:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="File System"',title:'"File','System"':!0},"app/\n  _layout.js # Tab bar\n  (home, profile)\n    _layout.js\n    feed.js\n    user.js\n")),(0,a.kt)("p",null,"Now we'll choose a different initial route based on the ",(0,a.kt)("inlineCode",{parentName:"p"},"segment")," being rendered:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="app/(home, profile)/_layout.js"',title:'"app/(home,','profile)/_layout.js"':!0},'import { Stack } from "expo-router";\n\nconst initialRoute = {\n  "(home)": "feed",\n  "(profile)": "user",\n};\n\nexport default function StackLayout({ segment }) {\n  return (\n    <Stack>\n      <Stack.Screen name={firstRoute[segment]} />\n    </Stack>\n  );\n}\n')),(0,a.kt)("p",null,"The first group listed in the clone syntax will be the default segment. In this case, the ",(0,a.kt)("inlineCode",{parentName:"p"},"home")," tab will be the default. If you rename the directory to ",(0,a.kt)("inlineCode",{parentName:"p"},"(profile, home)")," then the ",(0,a.kt)("inlineCode",{parentName:"p"},"profile")," fragment will be the default."),(0,a.kt)("h2",{id:"linking"},"Linking"),(0,a.kt)("p",null,"When linking, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"./screen")," to move to a route matching ",(0,a.kt)("inlineCode",{parentName:"p"},"screen")," in the same group. When using the absolute syntax ",(0,a.kt)("inlineCode",{parentName:"p"},"/screen")," the app will navigate to the first matching route in the entire app."),(0,a.kt)("p",null,"You can also use the absolute syntax ",(0,a.kt)("inlineCode",{parentName:"p"},"/(group)/screen")," to navigate to a specific group. The ",(0,a.kt)("inlineCode",{parentName:"p"},"/(group)")," will be omitted automatically."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"All routes in Expo Router have unique URLs so you can always link to a specific route. Simply keep the fragment segments in the URL.")))}c.isMDXComponent=!0}}]);